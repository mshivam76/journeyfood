<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
    <head th:fragment="html_head">
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Journeyfood - Order</title>
	    <script type="text/javascript" src="@{/webjars/jquery/2.2.3/jquery.min.js}"></script>
	    <link th:rel="stylesheet" th:href="@{/assets/tempusdominus-bootstrap-4/tempusdominus-bootstrap-4.min.css}"/>
	    <link th:rel="stylesheet" th:href="@{/webjars/font-awesome/5.11.2/css/all.css}"/>
        <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/4.0.0-2/css/bootstrap.min.css}"/>
        <script	type="text/javascript" src="@{/webjars/bootstrap/4.0.0-2/css/bootstrap.min.js}"></script>
    </head>
    <body>
	   	<div th:fragment="menu">
	   		<nav class="nav navbar-expand-lg nav-tabs">
			  <a class="navbar-brand" th:href="@{/}">
			  	<img th:src="@{/images/brahmakumaris-logo.png}" width="250" height="50">
			  </a>
			  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			    <span class="navbar-toggler-icon"></span>
			  </button>
			
				<div class="collapse navbar-collapse" id="navbarSupportedContent">
				  <ul class="navbar-nav mr-auto">
				    <li class="nav-item">
				      <a class="nav-link" th:href="@{/}">Home <span class="sr-only">(current)</span></a>
				    </li>
				    <li class="nav-item">
				    	<a class="nav-link" sec:authorize="isAuthenticated()" th:href="@{/addJourneyFoodOrder}">Add Order</a>
				    </li>
				    <li class="nav-item">
				      <a class="nav-link" sec:authorize="isAuthenticated()" th:href="@{/fetchAllJourneyFoodOrdersNotDisabled}">My Orders</a>
				    </li>
				    <li class="nav-item dropdown" sec:authorize="hasRole('ADMIN')">
					   <div class="btn-group" >
						  <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						    Admin operations
						  </button>
						  <div class="dropdown-menu">
						    <a class="nav-link" th:href="@{/admin/fetchAllOrdersForADate}">Orders for a Date</a>
						    <a class="nav-link" th:href="@{/admin/fetchAllPlacedOrdersForADate}">Placed Orders for a Date</a>
						    <a class="nav-link" th:href="@{/admin/fetchAllCanceledOrdersForADate}">Cancelled Orders for a Date</a>
						    <a class="nav-link" th:href="@{/admin/fetchAllOrdersForADate}">Delivered Orders for a Date</a>
						    <a class="nav-link" th:href="@{/admin/fetchTotalQuantityForADate}">Total quantity for a Date</a>
						    <a class="nav-link" th:href="@{/admin/fetchAllJourneyFoodOrder}">All Orders</a>
						    <a class="nav-link" th:href="@{/admin/fetchAllJourneyFoodOrdersNotDisabled}">Placed Orders</a>
						    <div class="dropdown-divider"></div>
						    <a class="nav-link" th:href="@{/admin/fetchAllUsers}">All Users</a>
						    <a class="nav-link" th:href="@{/admin/users/export/excel}">Export all Users</a>
						    <a class="nav-link" th:href="@{/admin/fetchFromDate2EndDateOrders}">Date range orders</a>
						    <a class="nav-link" th:href="@{/admin/fetchFromDate2EndDateWithOrderStatusOrders}">Date range orders with order status</a>
						  </div>
						</div>
					</li>
    				<script>
	    				 /* $(document).ready(function() {
    			            $('li').click(function() {
    			                $('li.list-group-item.active').removeClass("active");
    			                $(this).addClass("active");
    			            });
    			        });	 */
					  /*  $(document).ready(function () {
					       $('.dropdown-toggle').dropdown();
					   }); */
					</script>
					<li class="nav-item">
						<a class="nav-link" sec:authorize="isAnonymous()" th:href="@{/register}">Register</a>
					</li>
					<li sec:authorize="isAuthenticated()" class="nav-item">
						<a class="nav-link" th:href="@{/logout}">Logout</a>
					</li>
				</ul>
			    <form class="form-inline my-2 my-lg-0"><h1 sec:authorize="isAuthenticated()" th:text="'Welcome: ' + ${#authentication?.principal?.nameOfGuide}"></h1>
			      <!-- <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
			      <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button> -->
			    </form>
			  </div>
			</nav>
	   	</div>
    </body>
</html>