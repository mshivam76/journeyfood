<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:th="http://www.thymeleaf.org"
xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head th:replace="fragments :: html_head"/>
<body>
<div th:replace="fragments :: menu"></div>
   <div class="row">
   	<div class="col-md-12">
   		<form th:action="@{/login}" th:object="${user}" method="post" class="form-signin">               
            <div>
           		<div th:if="${param.error}" class="alert alert-danger" role="alert" ><h3>Mandatory field validation Errors:</h3>
				    <p th:text="${SPRING_SECURITY_LAST_EXCEPTION.message}" class="error"> Invalid email or password</p>
				</div> 
				<div th:if="${param.logout}" class="alert alert-success" role="alert" >
				    <h5>You have been logged out successfully</h5>
				</div>
				<!-- <c:if test="${param.auth eq 'failure'}">
				  <div class="error">
				    <c:out value="${SPRING_SECURITY_LAST_EXCEPTION.message}" />
				  </div>
				</c:if> -->
 
           	</div>
            <h2 class="mb-5">Login</h2>
               <div class="form-group">
                   <label for="email">Email:</label>
			    	<input type="email" th:field="*{email}" class="form-control" required  placeholder="Enter email" autofocus="true">
               </div>
               <div class="form-group">
                   <label for="password">Password: </label>
			    	<input type="password" th:field="*{password}" class="form-control" required placeholder="Enter password">
               </div>
               <button class="btn btn-primary" type="submit">Login</button>
               <a th:href="@{/forgotPassword}">Forgot your password?</a>
	        </form>
        </div>
    </div>
    <div th:replace="fragments :: menu_bug"></div>
  </body>
</html>